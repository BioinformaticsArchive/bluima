# DOES NOT WORK, see 20130525_exploit_pubmed_ns.pipeline

# evaluating if dca model works, to use it for BR NER

# copy of projects/dca/misc/exploit_pubmed_ns.pipeline
# hardcoding model and paths,
# refact


cr: PubmedFromListDatabaseCR
 db_connection__java: new String[]{ "localhost", "bb_pubmed", "root", "" } 
 ids__java: new int[]{ $1 }
include: ../../preprocessing/20130327_preprocess_ft/20130327_preprocess_ft.include

ae: ViterbiFilterAnnotator

# DCA #######################################



ae: FeatureTokensFilterAnnotator2
 caseSensitive: false
 tokenFrequencyFile: /Volumes/HDD2/ren_data/dev_hdd/bluebrain/9_lda/dca/20130129_replicate_marcs/20130127_dca-pubmed_abstracts_preproc/pubmed_preproc_done/token_frequency
 #tokenFrequencyFile: /nfs4/bbp.epfl.ch/simulation/nlp/data/lda/20130214_preprocess_pubmed3.pipeline/token_frequency
 minimumFrequency: 100
 maximumFrequency__java: Integer.MAX_VALUE
 stopwordsFilePath: $ROOT/modules/bluima_topic_models/src/main/resources/stoplists/mallet_stopwords_en.txt

ae: FeatureTokensExtractionAnnotator2

ae: ch.epfl.bbp.uima.topicmodels.annotators.DCATopicModelsAnnotator
 #dcaDirectoryPath: $1
 dcaDirectoryPath: /Volumes/HDD2/ren_data/dev_hdd/bluebrain/9_lda/dca/20130309_preprocess_pubmed_ns.pipeline/dca
 dcaStem: dca
 inferenceIterations: 100
 inferenceBurnin: 20

ae: ch.epfl.bbp.uima.topicmodels.writers.exploitation.AnnotateTokensWithTopicWriter
 outputDir: /Users/richarde/Desktop/BBP_experiments/9_LDA/20130524_dca_for_brainregion_ner
 latexOutput: true
 
ae: ch.epfl.bbp.uima.topicmodels.writers.exploitation.TopicDistributionWriter
 outputDir: /Users/richarde/Desktop/BBP_experiments/9_LDA/20130524_dca_for_brainregion_ner
 command: R --vanilla --slave -f $ROOTmodules/bluima_topic_models/scripts/plot_doc_topic_distribution.R --args {input} {output}

ae: BartWriter
 batchPrefix: 20130524_exploit_pubmed_ns


ae: StatsAnnotatorPlus
 printEvery__java: 10